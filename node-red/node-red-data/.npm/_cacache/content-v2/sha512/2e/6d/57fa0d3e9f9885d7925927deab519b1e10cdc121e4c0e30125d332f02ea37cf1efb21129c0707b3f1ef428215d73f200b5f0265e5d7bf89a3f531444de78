{"_id":"node-home-assistant","_rev":"9-12cef6bd0a3343e3f08bb136d60c7510","name":"node-home-assistant","description":"Home Assistant utility library and command line interface","dist-tags":{"latest":"0.2.2"},"versions":{"0.0.2":{"name":"node-home-assistant","version":"0.0.2","main":"index.js","scripts":{"dev:watch":"DEBUG=home-assistant* nodemon _scratchpad/scratchpad.js"},"license":"MIT","dependencies":{"axios":"^0.15.3","debug":"^2.6.3","eventsource":"^0.2.2"},"devDependencies":{"nodemon":"^1.11.0"},"gitHead":"17b0de2fd19ecdc62286becc227fc5dd097d2f45","description":"Home Assistant utility library for node","_id":"node-home-assistant@0.0.2","_shasum":"b7da535049dde137022fdf72d6fa6c5e499c9d56","_from":".","_npmVersion":"4.2.0","_nodeVersion":"7.8.0","_npmUser":{"name":"ayapejian","email":"randombitsoftech@gmail.com"},"dist":{"shasum":"b7da535049dde137022fdf72d6fa6c5e499c9d56","tarball":"https://registry.npmjs.org/node-home-assistant/-/node-home-assistant-0.0.2.tgz","integrity":"sha512-NrHi7fpY80irzcD0CikGAZdkLYT8lD5851YY2/EsfvLsmHAoD5XOO7sIEZ3W000DJZqoA7q3eRfBkMP4ylB0Cg==","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEYCIQCZuz2/yz4jmvPO9JoE8BP6AdaRuORFxd8PJDHpQzCqDwIhAKLVhvrmbZJsY+zffcSVWWLqKEqHLkXxDXGwl5nurdIk"}]},"maintainers":[{"name":"ayapejian","email":"randombitsoftech@gmail.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/node-home-assistant-0.0.2.tgz_1491700415477_0.5049764027353376"},"directories":{}},"0.0.3":{"name":"node-home-assistant","version":"0.0.3","main":"index.js","scripts":{"dev:watch":"DEBUG=home-assistant* nodemon _scratchpad/scratchpad.js"},"license":"MIT","dependencies":{"axios":"^0.15.3","debug":"^2.6.3","eventsource":"^0.2.2"},"devDependencies":{"nodemon":"^1.11.0"},"gitHead":"17a8cbfdcfabefb01e9de778aef1e09fc3bf69d0","description":"Home Assistant utility library for node","_id":"node-home-assistant@0.0.3","_shasum":"f33afe2bd48203506b02ace1617ea540ae625448","_from":".","_npmVersion":"4.2.0","_nodeVersion":"7.8.0","_npmUser":{"name":"ayapejian","email":"randombitsoftech@gmail.com"},"dist":{"shasum":"f33afe2bd48203506b02ace1617ea540ae625448","tarball":"https://registry.npmjs.org/node-home-assistant/-/node-home-assistant-0.0.3.tgz","integrity":"sha512-05nzIx95QYuNexI+KPeF3apZrTk7WSsrd32HHMpFyp+pzG4arhKzdgHNY6/gG1HP8AQQ5fRg961CR2wHHPZuGw==","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEQCIDQvPC21mPErsMGlhdrbAW+JB80of5pGt8R9OEML9xUXAiBoBFsfri6kAOgRROGRBFGb1FdRpXyhwG84damNL1J4sQ=="}]},"maintainers":[{"name":"ayapejian","email":"randombitsoftech@gmail.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/node-home-assistant-0.0.3.tgz_1491740497411_0.10659172432497144"},"directories":{}},"0.1.0":{"name":"node-home-assistant","version":"0.1.0","main":"index.js","scripts":{"dev:watch":"DEBUG=home-assistant* nodemon _scratchpad/scratchpad.js"},"license":"MIT","dependencies":{"axios":"^0.15.3","debug":"^2.6.3","eventsource":"^0.2.2"},"devDependencies":{"nodemon":"^1.11.0"},"gitHead":"c2bb09fbb3c032c1e180516a98dadafa6c515ed9","description":"Home Assistant utility library for node","_id":"node-home-assistant@0.1.0","_npmVersion":"5.3.0","_nodeVersion":"8.2.1","_npmUser":{"name":"ayapejian","email":"randombitsoftech@gmail.com"},"dist":{"integrity":"sha512-jo7RSX02iQR8E5GTzf9jPv9vV2nTJVgowKJ/4+Tx1fQ+lYEbotHLYeaSASQMAIAYpjhB73t1IlRUT4kbnrg7TQ==","shasum":"5bbf71b1deebdf63ac60b7422244359558f15730","tarball":"https://registry.npmjs.org/node-home-assistant/-/node-home-assistant-0.1.0.tgz","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEYCIQClcnFJszLhDtVU56jotYKmbi+AGe5JY04tDPDWrtnUaAIhANMkxcHhuv04ltKSnvc3AbXuO7Z5gD1FIKs4DpFkdXN/"}]},"maintainers":[{"name":"ayapejian","email":"randombitsoftech@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-home-assistant-0.1.0.tgz_1503423313130_0.5624133916571736"},"directories":{}},"0.2.0":{"name":"node-home-assistant","version":"0.2.0","main":"index.js","scripts":{"dev:watch":"DEBUG=home-assistant* nodemon _scratchpad/scratchpad.js","test":"mocha __tests__/*.spec.js","test:watch":"DEBUG=home-assistant* mocha --watch --inspect __tests__/**/*.spec.js"},"bin":{"ha":"./cli/ha.js"},"license":"MIT","dependencies":{"axios":"^0.17.1","blessed":"^0.1.81","blessed-contrib":"^4.8.5","chalk":"^2.3.0","chrono-node":"^1.3.5","commander":"^2.12.2","dateformat":"^3.0.2","debounce":"^1.1.0","debug":"^3.1.0","dotenv":"^4.0.0","eventsource":"^1.0.5","merge":"^1.2.0","object-merge":"^2.5.1","pino":"^4.10.2","timeago.js":"^3.0.2","tty-table":"^2.5.5"},"devDependencies":{"eslint":"^4.12.1","mocha":"^4.0.1","nock":"^9.1.4","nodemon":"^1.12.1","should":"^13.1.3","simple-mock":"^0.8.0","table":"^4.0.2"},"gitHead":"bb2067f2f9e994599dfc693581f3f2ee1f80fb24","description":"Home Assistant utility library and command line interface","_id":"node-home-assistant@0.2.0","_npmVersion":"5.5.1","_nodeVersion":"8.9.0","_npmUser":{"name":"ayapejian","email":"randombitsoftech@gmail.com"},"dist":{"integrity":"sha512-iaTVuWvmWKVgF4nsq/jlkGbFcYqieZg6SgCPRPzgQUQhS2dODz/la/iN8J0V9vBsA9yAw6lB3AvvoMeSwvWwyw==","shasum":"014b5e1d05b87886d9856c078596fc90f3e72af0","tarball":"https://registry.npmjs.org/node-home-assistant/-/node-home-assistant-0.2.0.tgz","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEQCICAOjwQg6qNYd4KJ6i6Wm7B7rABtSq/ZURUAx6T97EOwAiBnf7geRcnyWiIlEVmVmaxjvSgLXUfa5cwN6vJWreSShw=="}]},"maintainers":[{"name":"ayapejian","email":"randombitsoftech@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-home-assistant-0.2.0.tgz_1512361742433_0.8805114780552685"},"directories":{}},"0.2.1":{"name":"node-home-assistant","version":"0.2.1","main":"index.js","scripts":{"dev:watch":"DEBUG=home-assistant* nodemon _scratchpad/scratchpad.js","test":"mocha __tests__/*.spec.js","test:watch":"DEBUG=home-assistant* mocha --watch --inspect __tests__/**/*.spec.js"},"bin":{"ha":"./cli/ha.js"},"license":"MIT","dependencies":{"axios":"^0.17.1","blessed":"^0.1.81","blessed-contrib":"^4.8.5","chalk":"^2.3.0","chrono-node":"^1.3.5","commander":"^2.12.2","dateformat":"^3.0.2","debounce":"^1.1.0","debug":"^3.1.0","dotenv":"^4.0.0","eventsource":"^1.0.5","merge":"^1.2.0","object-merge":"^2.5.1","pino":"^4.10.2","timeago.js":"^3.0.2","tty-table":"^2.5.5"},"devDependencies":{"eslint":"^4.12.1","mocha":"^4.0.1","nock":"^9.1.4","nodemon":"^1.12.1","should":"^13.1.3","simple-mock":"^0.8.0","table":"^4.0.2"},"gitHead":"bd27aefdabdd4e58f2a478f4f69b94b56693cc68","description":"Home Assistant utility library and command line interface","_id":"node-home-assistant@0.2.1","_npmVersion":"5.6.0","_nodeVersion":"9.5.0","_npmUser":{"name":"ayapejian","email":"randombitsoftech@gmail.com"},"dist":{"integrity":"sha512-TH1rQRkSkxV8z6wB6//NswKufXmrkKX+BmTjlxzZ37a3zNuz2oVcJhxKhR0OBEF7dMInV+H7Sc5Bs642Qf82Ig==","shasum":"2da0163a95528ed4298fcae0cbc7aceaad98f7a5","tarball":"https://registry.npmjs.org/node-home-assistant/-/node-home-assistant-0.2.1.tgz","fileCount":30,"unpackedSize":166027,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEQCIGBtwn7c261Cp6YMycEsmFwqI5jySCN2j4OqUmeg2OJpAiBFUURij6tCNRDdeu44QruMMihv+9aZpFU97aHH1/e1AA=="}]},"maintainers":[{"name":"ayapejian","email":"randombitsoftech@gmail.com"}],"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-home-assistant_0.2.1_1518726087787_0.545715225625669"},"_hasShrinkwrap":false},"0.2.2":{"name":"node-home-assistant","version":"0.2.2","main":"index.js","scripts":{"dev:watch":"DEBUG=home-assistant* nodemon _scratchpad/scratchpad.js","test":"mocha __tests__/*.spec.js","test:watch":"DEBUG=home-assistant* mocha --watch --inspect __tests__/**/*.spec.js"},"bin":{"ha":"./cli/ha.js"},"license":"MIT","dependencies":{"axios":"^0.17.1","blessed":"^0.1.81","blessed-contrib":"^4.8.5","chalk":"^2.3.0","chrono-node":"^1.3.5","commander":"^2.12.2","dateformat":"^3.0.2","debounce":"^1.1.0","debug":"^3.1.0","dotenv":"^4.0.0","eventsource":"^1.0.5","merge":"^1.2.0","object-merge":"^2.5.1","pino":"^4.10.2","timeago.js":"^3.0.2","tty-table":"^2.5.5"},"devDependencies":{"eslint":"^4.12.1","mocha":"^4.0.1","nock":"^9.1.4","nodemon":"^1.12.1","should":"^13.1.3","simple-mock":"^0.8.0","table":"^4.0.2"},"gitHead":"be94ccf190704b5bfe1691fad921b4b09b12a0d8","description":"Home Assistant utility library and command line interface","_id":"node-home-assistant@0.2.2","_npmVersion":"6.4.1","_nodeVersion":"11.3.0","_npmUser":{"name":"ayapejian","email":"randombitsoftech@gmail.com"},"dist":{"integrity":"sha512-S3fHhixG4t+omMF5UScNoHa5aHel/mzYoEV/XFuC60Gu92d9F2Re3mVepGgx54gyUQ0rIvsqwZzdzs++m9XlsA==","shasum":"cc986fc3c579edada9a6b11f75cf35a8b40c7945","tarball":"https://registry.npmjs.org/node-home-assistant/-/node-home-assistant-0.2.2.tgz","fileCount":32,"unpackedSize":173979,"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v3.0.4\r\nComment: https://openpgpjs.org\r\n\r\nwsFcBAEBCAAQBQJcSBboCRA9TVsSAnZWagAAf4EP/2hQ4Dw/PDFsfM3P/207\nYZfP3oFjHlgsw0G3PqaYXE7+z/tustaN8lAxj58ZLlZXizIcsxdikOqf1B1/\nLWnD1m9rjh9RhiTRjOtbQAzBCTvFSVZ/j9IzOJJGBCnbA3tObBgQgSl7tG1a\naLsAKKwO9oDCXe6tL1CCChSD/c1M+U6V1vxFZyK83Fg6vzLbpQrbdQ1leI4Z\nafPYWXMpXIiu4kvV3dWw0N1mCF/MfhJhXW4akMgyylTH4tX4vHR57VKeLjn3\n27GTccIqgjJs0CeRWkbcJifVJF7F84hAuNX0FXOhuf3OxqOPF44g92rClNY/\nJ1eJtfOBOdI14Tjq3C4erq2jDxg9jr4xthR9ImYn3pVvp5XE7E86D/mkuLeh\n4Cb39bF47Yh1t/FyVZNQkrC3i9icbFRbnqqUz6qtxmMTrrznWI7DJfmnCwv9\nA4hGOztKtZ+rmG4N/kPWaDNmBvkg95LqTiNVfGEOTA36JxzSyMY7C4MnL1V+\ng+Fp8J9WgdedvlP4ssnslowbfdqGJuc+uj66X/C47BTXx0txgH21T0/WoULl\nkeilpgUVD+rHUFfSXBUm35J7G9/c4bV/t3PUtVWUxFg3V4jEKybLXeBVhvWw\nvtAKLy4b0viNsEZnKfn+Y1YdseguWN0iQibz5uGAI6r4pau0cw5pjN43Blzr\nL8cA\r\n=QUXZ\r\n-----END PGP SIGNATURE-----\r\n","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEYCIQCqKGvTzcub+uau/kaIgixvxj5K6plnZgOAR1/rrzgLFwIhALWMW6u7sRDHzgHZroboRbN8DqABm8QxsTp1vvSOIrOh"}]},"maintainers":[{"name":"ayapejian","email":"randombitsoftech@gmail.com"}],"directories":{},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/node-home-assistant_0.2.2_1548228327430_0.9986558398748941"},"_hasShrinkwrap":false}},"readme":"# Node Home Assistant\n\nHome Assistant utility library and command line interface\n\nNOTE: This is a work in progress ymmv.  Currently it's working in my very limited testing and uses the Server Sent Events interface Home Assistant surfaces along with the REST api.\n\n## Command Line\n### Install\n\n1. Install the module `npm install -g node-home-assistant`\n2. Add an environment variable with your Home Assistant URL and Password exported as `HA_URL` and `HA_PASSWORD`\n3. Run `ha history` as a quick test\n4. See other commands and examples by running `ha` with no other options\n5. The command line tool surfaces a lot of the defaults and configuration via environment variables, checkout `config.js` for a listing\n\n### Command line help output\n\n```shell\n$ ha\n\nUsage: ha [cmd]\n\nOptions:\n  -V, --version                                 output the version number\n  -v, --version                                 get version\n  -d, --debug                                   output debug messages\n  -u, --url <url>                               home assistant url\n  -p, --password <password>                     home assistant password\n  -h, --help                                    output usage information\n\nCommands:\n  history [options]                             Get history, defaults to all history from past hour\n  states [options]                              Get list of all known states, returns only the list of entity_ids with states\n  entities [options]                            Get list of all known entities, returns only the list of entity_ids\n  dashboard [options]                           Display a dashboard that is updated with state data as events occur\n  service <domain> <service> [data]             Calls home assistant service with data provided, outputs the response body from home assistant\n  show [options] <entity|entities> [entity_id]  Get all details of one or more home assistant entities, returns only JSON object. If no entity is found JSON object will be empty, no error will be thrown\n  *\n\n  Examples:\n\n    * History:\n      $ ha history --pretty --relative-dates\n      $ ha history --entity_id binary_sensor.motion_office_motion\n      $ ha history --include office --exclude group --pretty\n      $ ha history --include '(office|livingroom)' --exclude '(sensor|group)' --pretty\n      $ ha history --from \"3 days ago\" --to \"2 days ago\"\n      $ ha history -i '(office|bedroom)' -e '(^sensor|device_tracker|group)' -f '1 day ago' --pretty\n    * States:\n      $ ha states\n      $ ha states --pretty --relative-dates\n      $ ha states -i '^sensor' -e '_motion$|transmission|pihole'\n    * Entities:\n      $ ha entities\n      $ ha entities --pretty\n      $ ha entities --include '^sensor' --exclude '_motion$|transmission|pihole'\n    * Entity Details:\n      $ ha show entities\n      $ ha show entities group.all_switches\n      $ ha show entities --include sensor\n    * Calling Services\n      $ ha service light turn_on '{ \"entity_id\": \"light.garage_hue_room\" }'\n      $ ha service light turn_off '{ \"entity_id\": \"light.garage_hue_room\" }'\n      $ ha service light turn_off\n    * Dashboard:\n        $ ha dashboard\n        $ ha dashboard --include '^sensor' --exclude '_motion$|transmission|pihole'\n```\n\n## Use as a library in your own project\n1. Install module locally `npm install --save node-home-assistant`\n2. Check out the `_examples` directory in this project which shows some usage of the API and Events listener interfaces\n3. Quick example below:\n\n```javascript\nconst HomeAssistant = require('node-home-assistant');\n\nconst config = {\n    baseUrl: 'http://localhost:8123',\n    apiPass: 'supersecretpassword'\n};\n\nconst homeAssistant = new HomeAssistant(config, { startListening: true });\n\n// Call a service with domain, service, data\nhomeAssistant.api.callService('light', 'turn_off', { entity_id: 'light.office_hue_room' })\n    .then(res => console.log('Light switched off', res))\n    .catch(e => console.log(e));\n\n// Events by event_type as sent by home assistant ('state_changed' and 'service_executed' from home assistant below)\nhomeAssistant.events.on('ha_events:state_changed', (evt) => console.log(`(ha_events:state_changed) ${JSON.stringify(evt)}`));\n```\n\n## TODO\n- [x] CLI option to call service\n- [ ] More tests\n- [ ] Finish CLI Dashboard\n- [ ] Update API to use new home assistant authentication methods\n","maintainers":[{"name":"ayapejian","email":"randombitsoftech@gmail.com"}],"time":{"modified":"2022-06-21T15:32:30.402Z","created":"2017-04-09T01:13:37.393Z","0.0.2":"2017-04-09T01:13:37.393Z","0.0.3":"2017-04-09T12:21:39.542Z","0.1.0":"2017-08-22T17:35:14.154Z","0.2.0":"2017-12-04T04:29:03.464Z","0.2.1":"2018-02-15T20:21:28.748Z","0.2.2":"2019-01-23T07:25:27.543Z"},"license":"MIT","readmeFilename":"README.md"}